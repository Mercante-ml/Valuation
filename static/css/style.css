/* static/css/style.css */

/* Usando uma fonte do Google Fonts para um look mais limpo */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');

body {
    font-family: 'Inter', sans-serif;
    background-color: #f8f9fa; /* Um cinza bem claro */
}

/* Deixa a barra de navegação com uma sombra sutil */
.navbar {
    box-shadow: 0 2px 4px rgba(0,0,0,.04);
}

/* Estilo "Startup" para os Cards de Formulário */
.card-auth {
    border: none;
    border-radius: 12px;
    box-shadow: 0 10px 30px rgba(0,0,0,.07);
    overflow: hidden; /* Para o gradiente não vazar */
}

.card-auth .card-header-grad {
    padding: 2.5rem;
    background: linear-gradient(135deg, #0d6efd 0%, #0558ca 100%);
    color: white;
}

.card-auth .card-body {
    padding: 2rem;
}

/* Botão Primário Customizado */
.btn-primary {
    --bs-btn-bg: #0d6efd;
    --bs-btn-border-color: #0d6efd;
    --bs-btn-hover-bg: #0b5ed7;
    --bs-btn-hover-border-color: #0a58ca;
    font-weight: 500;
    padding: 0.75rem 1rem;
    border-radius: 0.5rem;
    transition: all 0.2s ease-in-out;
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(13,110,253,.25);
}

/* Página Index Hero Section */
.hero-section {
    padding: 6rem 0;
    background-color: #ffffff;
    border-bottom: 1px solid #dee2e6;
}

.hero-section .display-4 {
    font-weight: 700;
    color: #212529;
}

.hero-section .lead {
    font-size: 1.25rem;
    color: #495057;
}

/* Chatbot UI (Esqueleto) */
#chat-window {
    height: 60vh;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    overflow-y: auto;
    padding: 1rem;
    background-color: #fff;
    box-shadow: 0 4px 12px rgba(0,0,0,.05);
}

/* Mensagens do Chat */
.chat-message {
    padding: 0.75rem 1rem;
    border-radius: 1.25rem;
    margin-bottom: 0.75rem;
    max-width: 80%;
    line-height: 1.5;
}

.chat-message.bot {
    background-color: #e9ecef;
    color: #212529;
    border-top-left-radius: 0.25rem;
    align-self: flex-start;
}

.chat-message.user {
    background-color: #0d6efd;
    color: white;
    border-top-right-radius: 0.25rem;
    align-self: flex-end;
}


/* --- Overrides para o Dark Mode --- */

/* Diz ao Bootstrap para recalcular cores baseadas no tema */
[data-bs-theme="dark"] body {
    background-color: var(--bs-body-bg);
    color: var(--bs-body-color);
}

/* Deixa o gradiente do card de auth mais sutil no modo escuro */
[data-bs-theme="dark"] .card-auth .card-header-grad {
    background: linear-gradient(135deg, #0d6efd 0%, #043f80 100%);
}

/* Corrige o fundo branco do Hero Section */
[data-bs-theme="dark"] .hero-section {
    background-color: #212529; /* Um cinza escuro */
    border-bottom-color: #343a40;
}

[data-bs-theme="dark"] .hero-section .display-4,
[data-bs-theme="dark"] .hero-section .lead {
    color: var(--bs-body-color); /* Usa a cor de texto padrão do modo escuro */
}

/* FIX: Menu Dropdown atrás do Card (Z-Index) */
.navbar.sticky-top {
    z-index: 1030;
}


/* --- Mais Overrides para o Dark Mode (v2) --- */

/* 1. Ajustes na Navbar */
[data-bs-theme="dark"] .navbar.bg-white {
    background-color: var(--bs-dark-bg-subtle, #1c1f23) !important; /* Usa uma cor escura sutil do BS ou fallback */
    box-shadow: 0 2px 4px rgba(0,0,0,.5); /* Sombra mais escura */
}

/* Garante que a marca, links e ícone do toggler fiquem claros */
[data-bs-theme="dark"] .navbar.bg-white .navbar-brand,
[data-bs-theme="dark"] .navbar.bg-white .nav-link {
     /* Usando var(--bs-light) pode ser muito branco, vamos usar a cor padrão do body */
     color: var(--bs-body-color) !important;
}

/* Ajusta a cor do ícone do toggler (hamburguer) */
[data-bs-theme="dark"] .navbar.bg-white .navbar-toggler-icon {
    /* Usa um filtro para inverter a cor do SVG padrão */
    filter: invert(1) grayscale(100%) brightness(200%);
}

/* Mantém o ícone do logo azul (opcional, pode querer branco também) */
[data-bs-theme="dark"] .navbar.bg-white .navbar-brand i.text-primary {
     color: var(--bs-primary) !important;
}


/* 2. Ajustes no Conteúdo das Abas e Formulários (Página de Configurações) */

/* Força o fundo do painel da aba escuro com mais especificidade */
[data-bs-theme="dark"] body .tab-content { /* Adicionado 'body' para aumentar especificidade */
    background-color: var(--bs-tertiary-bg, #2b3035) !important; /* Adicionado !important */
    border-color: var(--bs-border-color-translucent);
    color: var(--bs-body-color); /* Garante que texto padrão fique claro */
}

/* Garante que títulos H3 e parágrafos dentro do tab-content fiquem claros */
[data-bs-theme="dark"] .tab-content h3,
[data-bs-theme="dark"] .tab-content p {
     color: var(--bs-body-color); /* Força a cor clara padrão */
}

/* Garante que as labels (Rótulos) fiquem claras */
[data-bs-theme="dark"] .tab-content label {
     color: var(--bs-body-color); /* Força a cor clara padrão */
}

/* Ajusta os campos de input normais */
[data-bs-theme="dark"] .tab-content .form-control {
    background-color: var(--bs-body-bg); /* Fundo do input mais escuro (body bg) */
    color: var(--bs-body-color); /* Texto do input claro */
    border-color: var(--bs-border-color); /* Borda sutil */
}

/* Ajusta o campo CNPJ (que é plaintext) */
[data-bs-theme="dark"] .tab-content .form-control-plaintext {
    color: var(--bs-secondary-color); /* Cor um pouco mais apagada */
}

/* Ajusta os botões das abas para terem fundo e borda corretos */
[data-bs-theme="dark"] .nav-tabs .nav-link {
    color: var(--bs-nav-tabs-link-active-color);
    background-color: transparent; /* Remove fundo branco residual */
    border-color: var(--bs-border-color-translucent);
}
[data-bs-theme="dark"] .nav-tabs .nav-link.active {
    color: var(--bs-nav-tabs-link-active-color);
    background-color: var(--bs-tertiary-bg); /* Fundo da aba ativa igual ao content */
    border-color: var(--bs-nav-tabs-link-active-border-color);
}
[data-bs-theme="dark"] .nav-tabs {
    border-bottom-color: var(--bs-nav-tabs-border-color);
}

/* Ajusta o cabeçalho do card */
[data-bs-theme="dark"] .card .card-header.bg-white {
    background-color: var(--bs-tertiary-bg, #2b3035) !important;
    color: var(--bs-body-color);
    border-bottom-color: var(--bs-border-color-translucent);
}
[data-bs-theme="dark"] .card .card-header p.text-muted {
     color: var(--bs-secondary-color) !important;
}


/* Ajusta o corpo principal do card */
[data-bs-theme="dark"] .card .card-body {
     background-color: var(--bs-tertiary-bg, #2b3035);
     color: var(--bs-body-color);
}

/* Força textos (h2, p, strong) dentro do card-body a serem claros */
[data-bs-theme="dark"] .card .card-body h1,
[data-bs-theme="dark"] .card .card-body h2,
[data-bs-theme="dark"] .card .card-body h3,
[data-bs-theme="dark"] .card .card-body h4,
[data-bs-theme="dark"] .card .card-body p,
[data-bs-theme="dark"] .card .card-body strong {
     color: var(--bs-body-color) !important; /* Força cor clara */
}
 /* Exceto o valor principal que é azul */
[data-bs-theme="dark"] .card .card-body h3.text-primary {
    color: var(--bs-primary) !important;
}
/* E textos muted */
 [data-bs-theme="dark"] .card .card-body p.text-muted {
     color: var(--bs-secondary-color) !important;
 }


/* Ajusta a caixa de Análise da IA que usa bg-light */
[data-bs-theme="dark"] .card .card-body .bg-light {
    background-color: var(--bs-body-bg) !important; /* Usa fundo principal escuro */
}

/* Ajusta os itens da lista "Dados Fornecidos" */
[data-bs-theme="dark"] .card .card-body .list-group-item {
    background-color: var(--bs-body-bg); /* Fundo escuro */
    color: var(--bs-body-color); /* Texto claro */
    border-color: var(--bs-border-color-translucent); /* Borda sutil */
}
 /* Garante que o 'strong' na lista fique visível */
 [data-bs-theme="dark"] .card .card-body .list-group-item strong.text-dark {
     color: var(--bs-light) !important; /* Força cor clara */
 }

/* Garante que o texto do switch de tema fique claro */
[data-bs-theme="dark"] #appearance-pane .form-check-label {
    color: var(--bs-body-color);
}